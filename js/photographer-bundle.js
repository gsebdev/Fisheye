/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./scripts/api/api.js":
/*!****************************!*\
  !*** ./scripts/api/api.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getPhotographers; }\n/* harmony export */ });\nasync function getPhotographers (id = null) {\r\n  return fetch('../../data/photographers.json')\r\n    .then(res => {\r\n      if (res.ok) {\r\n        return res.json()\r\n      } else {\r\n        throw new Error(res.status)\r\n      }\r\n    })\r\n    .then(data => {\r\n      // si un id a été fourni, récupération des médias du photographe et un nouvel objet photographe contenant aussi les medias est retourné, sinon pas de mise en forme des données\r\n      if (id) {\r\n        const photographerData = data.photographers.find(photographer => photographer.id === parseInt(id))\r\n        photographerData.medias = data.media.filter(media => media.photographerId === parseInt(id))\r\n        return photographerData\r\n      } else {\r\n        return data\r\n      }\r\n    })\r\n    .catch(error => console.log('erreur de récupération des données ', error))\r\n}\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/api/api.js?");

/***/ }),

/***/ "./scripts/factories/MediaFactory.js":
/*!*******************************************!*\
  !*** ./scripts/factories/MediaFactory.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MediaFactory\": function() { return /* binding */ MediaFactory; }\n/* harmony export */ });\n/* harmony import */ var _models_ImageModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/ImageModel */ \"./scripts/models/ImageModel.js\");\n/* harmony import */ var _models_VideoModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/VideoModel */ \"./scripts/models/VideoModel.js\");\n\r\n\r\n\r\nclass MediaFactory {\r\n  /**\r\n     *\r\n     * @param {Object} media\r\n     */\r\n  constructor (media) {\r\n    if (Object.prototype.hasOwnProperty.call(media, 'image')) {\r\n      return new _models_ImageModel__WEBPACK_IMPORTED_MODULE_0__[\"default\"](media)\r\n    } else if (Object.prototype.hasOwnProperty.call(media, 'video')) {\r\n      return new _models_VideoModel__WEBPACK_IMPORTED_MODULE_1__[\"default\"](media)\r\n    } else {\r\n      throw new Error('Format média inconnu')\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/factories/MediaFactory.js?");

/***/ }),

/***/ "./scripts/factories/PhotographerFactory.js":
/*!**************************************************!*\
  !*** ./scripts/factories/PhotographerFactory.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PhotographerFactory\": function() { return /* binding */ PhotographerFactory; }\n/* harmony export */ });\nclass PhotographerFactory {\r\n  /**\r\n     *\r\n     * @param {Object} data\r\n     */\r\n  constructor (data) {\r\n    // si l'objet 'data' contient des médias cela veut dire que la page photographe.html est active, autrement c'est la page index.html (cf: api.js)\r\n    if (data.medias) {\r\n      return new SinglePhotographerModel(data)\r\n    } else {\r\n      return new MultiPhotographersModel(data)\r\n    }\r\n  }\r\n}\r\n\r\nclass PhotographerModel {\r\n  /**\r\n     *\r\n     * @param {Object} data\r\n     */\r\n  constructor (data) {\r\n    this._id = data.id\r\n    this._name = data.name\r\n    this._city = data.city\r\n    this._country = data.country\r\n    this._tagline = data.tagline\r\n    this._price = data.price\r\n    this._portrait = data.portrait\r\n    this._picture = `assets/photographers/thumbnails/${this._portrait}`\r\n  }\r\n\r\n  get id () {\r\n    return this._id\r\n  }\r\n\r\n  get name () {\r\n    return this._name\r\n  }\r\n\r\n  get city () {\r\n    return this._city\r\n  }\r\n\r\n  get country () {\r\n    return this._country\r\n  }\r\n\r\n  get tagline () {\r\n    return this._tagline\r\n  }\r\n\r\n  get price () {\r\n    return this._price\r\n  }\r\n\r\n  get portrait () {\r\n    return this._portrait\r\n  }\r\n\r\n  get picture () {\r\n    return this._picture\r\n  }\r\n}\r\n\r\nclass MultiPhotographersModel extends PhotographerModel {\r\n  getDOM () {\r\n    const article = document.createElement('article')\r\n    article.className = 'photographer-card'\r\n    article.id = this._id\r\n\r\n    const link = document.createElement('a')\r\n    link.className = 'photographer-card__link'\r\n    link.href = `photographer.html?id=${this._id}`\r\n    link.setAttribute('aria-labelledby', this._id + '-name')\r\n    link.setAttribute('aria-describedby', this._id + '-description')\r\n\r\n    const img = document.createElement('img')\r\n    img.src = this._picture\r\n    img.className = 'photograph-portrait'\r\n    img.setAttribute('alt', '')\r\n\r\n    const h2 = document.createElement('h2')\r\n    h2.className = 'photographer-card__name'\r\n    h2.textContent = this._name\r\n    h2.id = this._id + '-name'\r\n\r\n    link.append(img, h2)\r\n\r\n    const paragraphContainer = document.createElement('p')\r\n    paragraphContainer.className = 'photographer-card__text-container'\r\n    paragraphContainer.id = this._id + '-description'\r\n\r\n    const location = document.createElement('span')\r\n    location.className = 'photographer-card__location'\r\n    location.textContent = this._country + ', ' + this._city\r\n\r\n    const tagLineEl = document.createElement('span')\r\n    tagLineEl.className = 'photographer-card__tagline'\r\n    tagLineEl.textContent = this._tagline\r\n\r\n    const priceEl = document.createElement('span')\r\n    priceEl.className = 'photographer-card__price'\r\n    priceEl.textContent = this._price + '€/jour'\r\n\r\n    paragraphContainer.append(location, tagLineEl, priceEl)\r\n\r\n    article.append(link, paragraphContainer)\r\n\r\n    return (article)\r\n  }\r\n}\r\n\r\nclass SinglePhotographerModel extends PhotographerModel {\r\n  constructor (data) {\r\n    super(data)\r\n    this._medias = data.medias\r\n  }\r\n\r\n  get medias () {\r\n    return this._medias ? this._medias : []\r\n  }\r\n\r\n  get likes () {\r\n    return this._medias.reduce((likes, media) => likes + media.likes, 0)\r\n  }\r\n\r\n  set medias (medias) {\r\n    this._medias = medias\r\n  }\r\n\r\n  getDOM () {\r\n    const section = document.createElement('div')\r\n    section.className = 'photograph-header'\r\n\r\n    const textContainer = document.createElement('div')\r\n    textContainer.className = 'photograph-header__text-container'\r\n\r\n    const title = document.createElement('h1')\r\n    title.textContent = this._name\r\n\r\n    const tagline = document.createElement('span')\r\n    tagline.className = 'photograph-header__tagline'\r\n    tagline.textContent = this._tagline\r\n\r\n    const location = document.createElement('span')\r\n    location.className = 'photograph-header__location'\r\n    location.textContent = this._city + ', ' + this._country\r\n\r\n    const p = document.createElement('p')\r\n    p.append(location, tagline)\r\n    textContainer.append(title, p)\r\n\r\n    const button = document.createElement('button')\r\n    button.className = 'btn'\r\n    button.setAttribute('data-target', 'contact_modal')\r\n    button.setAttribute('aria-label', 'Contactez-moi')\r\n    button.textContent = 'Contactez-moi'\r\n\r\n    const portrait = document.createElement('img')\r\n    portrait.className = 'photograph-portrait'\r\n    portrait.src = this._picture\r\n    portrait.alt = this._name\r\n\r\n    const price = document.createElement('span')\r\n    price.className = 'photograph-header__price'\r\n    price.textContent = this._price + '€ / jour'\r\n\r\n    const likes = document.createElement('span')\r\n    likes.className = 'photograph-header__likes'\r\n    likes.textContent = this.likes\r\n    const heart = document.createElement('i')\r\n    heart.className = 'heart-icon'\r\n    heart.title = 'likes'\r\n    likes.appendChild(heart)\r\n\r\n    const headerFixed = document.createElement('p')\r\n    headerFixed.className = 'photograph-header__container-fixed'\r\n    headerFixed.append(likes, price)\r\n\r\n    section.append(textContainer, button, portrait, headerFixed)\r\n\r\n    return section\r\n  }\r\n\r\n  // methode permettant de mettre à jour le total des likes du photographe (utile lorsque un like sur un média est détecté)\r\n  updateLikes () {\r\n    const likes = document.querySelector('.photograph-header__likes')\r\n    likes.childNodes[0].textContent = this.likes\r\n  }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/factories/PhotographerFactory.js?");

/***/ }),

/***/ "./scripts/models/ImageModel.js":
/*!**************************************!*\
  !*** ./scripts/models/ImageModel.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ImageModel; }\n/* harmony export */ });\n/* harmony import */ var _MediaModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MediaModel */ \"./scripts/models/MediaModel.js\");\n\r\nclass ImageModel extends _MediaModel__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  /**\r\n     *\r\n     * @param {Object} image\r\n     */\r\n  constructor (image) {\r\n    super(image)\r\n    this._thumbSrc = `assets/photographers/thumbnails/${image.photographerName}/${image.image}`\r\n    this._src = `assets/photographers/${image.photographerName}/${image.image}`\r\n  }\r\n\r\n  get src () {\r\n    return this._src\r\n  }\r\n\r\n  getCardDOM () {\r\n    const article = this.getDefaultCardDOM()\r\n\r\n    const image = document.createElement('img')\r\n    image.className = 'media-card__media'\r\n    image.src = this._thumbSrc\r\n    image.alt = this._title + ', closeup view'\r\n    image.setAttribute('aria-describedby', this._id + '-likes')\r\n\r\n    article.querySelector('.media-card__media-container').append(image)\r\n\r\n    return article\r\n  }\r\n\r\n  getMediaDOM () {\r\n    const image = document.createElement('img')\r\n    image.className = 'photograph-media'\r\n    image.src = this._src\r\n    image.alt = this._title\r\n\r\n    return image\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/models/ImageModel.js?");

/***/ }),

/***/ "./scripts/models/MediaModel.js":
/*!**************************************!*\
  !*** ./scripts/models/MediaModel.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MediaModel; }\n/* harmony export */ });\nclass MediaModel {\r\n  /**\r\n     *\r\n     * @param {Object} media\r\n     */\r\n  constructor (media) {\r\n    this._id = media.id\r\n    this._photographerId = media.photographerId\r\n    this._title = media.title\r\n    this._likes = media.likes\r\n    this._date = media._date\r\n    this._changeCallbackFunc = null\r\n    // récupération du like utilisateur dans le local storage pour l'afficher dans le DOM\r\n    try {\r\n      this._liked = JSON.parse(localStorage.getItem(this._id))\r\n      if (this._liked === true) {\r\n        this._likes += 1\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n      this._liked = false\r\n    }\r\n  }\r\n\r\n  get id () {\r\n    return this._id\r\n  }\r\n\r\n  get photographerId () {\r\n    return this._photographerId\r\n  }\r\n\r\n  get title () {\r\n    return this._title\r\n  }\r\n\r\n  get likes () {\r\n    return this._likes\r\n  }\r\n\r\n  get date () {\r\n    return this._date\r\n  }\r\n\r\n  getDefaultCardDOM () {\r\n    const article = document.createElement('article')\r\n    article.id = this._id\r\n    article.className = 'media-card'\r\n\r\n    const imageContainer = document.createElement('a')\r\n    imageContainer.href = '#'\r\n    imageContainer.className = 'media-card__media-container'\r\n\r\n    const bottomContainer = document.createElement('div')\r\n    bottomContainer.className = 'media-card__bottom-container'\r\n\r\n    const title = document.createElement('h2')\r\n    title.className = 'media-card__title'\r\n    title.textContent = this._title\r\n\r\n    const likes = document.createElement('span')\r\n    const icon = document.createElement('span')\r\n    icon.className = 'heart-icon'\r\n    icon.setAttribute('aria-label', 'likes')\r\n    icon.setAttribute('role', 'img')\r\n    likes.className = 'media-card__likes'\r\n    likes.textContent = this._likes\r\n    likes.id = this._id + '-likes'\r\n    likes.append(icon)\r\n    this._liked === true ? likes.setAttribute('data-liked', true) : likes.setAttribute('data-liked', false)\r\n    likes.addEventListener('click', () => {\r\n      if (this._liked === true) {\r\n        this._likes -= 1\r\n        this._liked = false\r\n        likes.setAttribute('data-liked', false)\r\n      } else {\r\n        this._likes += 1\r\n        this._liked = true\r\n        likes.setAttribute('data-liked', true)\r\n      }\r\n      likes.childNodes[0].textContent = this._likes\r\n      this.saveLikeToLocalStorage(this._liked)\r\n      likes.dispatchEvent(new Event('change'))\r\n    })\r\n\r\n    bottomContainer.append(title, likes)\r\n    article.append(imageContainer, bottomContainer)\r\n\r\n    return article\r\n  }\r\n\r\n  saveLikeToLocalStorage (val) {\r\n    try {\r\n      localStorage.setItem(this._id, JSON.stringify(val))\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  get change () {\r\n    return this._changeCallbackFunc\r\n  }\r\n\r\n  set change (callbackFunc) {\r\n    this._changeCallbackFunc = callbackFunc\r\n    document.querySelector('.media-card__likes').addEventListener('change', callbackFunc)\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/models/MediaModel.js?");

/***/ }),

/***/ "./scripts/models/VideoModel.js":
/*!**************************************!*\
  !*** ./scripts/models/VideoModel.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ VideoModel; }\n/* harmony export */ });\n/* harmony import */ var _MediaModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MediaModel */ \"./scripts/models/MediaModel.js\");\n\r\nclass VideoModel extends _MediaModel__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor (video) {\r\n    super(video)\r\n    this._src = `assets/photographers/${video.photographerName}/${video.video}`\r\n  }\r\n\r\n  get src () {\r\n    return this._src\r\n  }\r\n\r\n  getCardDOM () {\r\n    const article = this.getDefaultCardDOM()\r\n\r\n    const video = document.createElement('video')\r\n    video.className = 'media-card__media'\r\n    video.title = 'play video ' + this._title\r\n    video.setAttribute('aria-describedby', this._id + '-likes')\r\n    const source = document.createElement('source')\r\n    source.src = this._src\r\n    source.type = 'video/mp4'\r\n    video.append(source)\r\n\r\n    const mediaContainer = article.querySelector('.media-card__media-container')\r\n    mediaContainer.setAttribute('aria-label', 'play video ' + this._title)\r\n    mediaContainer.classList.add('video')\r\n    mediaContainer.append(video)\r\n\r\n    return article\r\n  }\r\n\r\n  getMediaDOM () {\r\n    const video = document.createElement('video')\r\n    video.controls = true\r\n    video.autoplay = true\r\n    video.muted = true\r\n    video.className = 'photograph-media'\r\n    video.title = this._title\r\n\r\n    const source = document.createElement('source')\r\n    source.src = this._src\r\n    source.type = 'video/mp4'\r\n    video.append(source)\r\n\r\n    return video\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/models/VideoModel.js?");

/***/ }),

/***/ "./scripts/pages/photographer.js":
/*!***************************************!*\
  !*** ./scripts/pages/photographer.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _factories_MediaFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../factories/MediaFactory */ \"./scripts/factories/MediaFactory.js\");\n/* harmony import */ var _factories_PhotographerFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../factories/PhotographerFactory */ \"./scripts/factories/PhotographerFactory.js\");\n/* harmony import */ var _api_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/api */ \"./scripts/api/api.js\");\n/* harmony import */ var _utils_FilterSortBy__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/FilterSortBy */ \"./scripts/utils/FilterSortBy.js\");\n/* harmony import */ var _utils_Lightbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/Lightbox */ \"./scripts/utils/Lightbox.js\");\n/* harmony import */ var _utils_contactForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/contactForm */ \"./scripts/utils/contactForm.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass PhotographerPage {\r\n  constructor (photographerFactory) {\r\n    this._photographerFactory = photographerFactory\r\n    // Chaque objet 'media' récupéré dans le fichier json est transformé en un objet Media avec des méthodes permettant de générer le DOM grâce à la factory Media\r\n    this._photographerFactory.medias = photographerFactory.medias.map(media => {\r\n      media.photographerName = photographerFactory.name.split(' ')[0]\r\n      media = new _factories_MediaFactory__WEBPACK_IMPORTED_MODULE_0__.MediaFactory(media)\r\n      return media\r\n    })\r\n    // méthode permettant de générer le DOM du header du photographe\r\n    this._header = this._photographerFactory.getDOM()\r\n    // insertion du DOM du header photographe dans le html\r\n    document.querySelector('main > article').prepend(this._header)\r\n    // initialisation du filtre de tri et du formulaire de contact\r\n    this._filter = new _utils_FilterSortBy__WEBPACK_IMPORTED_MODULE_3__[\"default\"]()\r\n    this._contactForm = new _utils_contactForm__WEBPACK_IMPORTED_MODULE_5__[\"default\"]('contact_modal', this._photographerFactory.name)\r\n    this._filter.change = this.renderMedias.bind(this)\r\n  }\r\n\r\n  renderMedias () {\r\n    const wrapper = document.querySelector('.photograph-medias__wrapper')\r\n    // ajout de la classe 'loading' pendant le rendu des médias\r\n    wrapper.classList.add('loading')\r\n    // tri de l'ordre des médias en fonction de la valeur du filtre\r\n    this._photographerFactory.medias.sort((a, b) => {\r\n      if (a[this._filter.value] > b[this._filter.value]) {\r\n        return 1\r\n      }\r\n      if (a[this._filter.value] < b[this._filter.value]) {\r\n        return -1\r\n      }\r\n      return 0\r\n    })\r\n    if (this._filter.value !== 'title') {\r\n      this._photographerFactory.medias.reverse()\r\n    }\r\n    setTimeout(() => {\r\n      // reset du wrapper\r\n      wrapper.innerHTML = ''\r\n      // pour chaque media....\r\n      this._photographerFactory.medias.forEach(media => {\r\n        const cardDOM = media.getCardDOM()\r\n        // ajout d'un event listener lors du click sur le média permettant d'ouvrir la Lightbox\r\n        cardDOM.querySelector('.media-card__media-container').addEventListener('click', (e) => {\r\n          e.preventDefault()\r\n          const lightbox = new _utils_Lightbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"](media.id, this._photographerFactory.medias)\r\n          lightbox.init()\r\n        })\r\n        // ajout d'un event listener change sur chaque media permettant d'écouter une modification du 'like' puis de mettre à jour le total des likes dans le header photographe\r\n        cardDOM.querySelector('.media-card__likes').addEventListener('change', () => { this._photographerFactory.updateLikes() })\r\n        // le DOM de chaque média est inséré dans le wrapper\r\n        wrapper.appendChild(cardDOM)\r\n      })\r\n    }, 200)\r\n    // lorsque tous les médias ont été affichés -> la classe loading est enlevée, le timeout permet une transition fluide\r\n    setTimeout(() => { wrapper.classList.remove('loading') }, 500)\r\n  }\r\n}\r\n\r\nasync function init () {\r\n  const photographerID = new URL(document.location).searchParams.get('id')\r\n  const photographerFactory = new _factories_PhotographerFactory__WEBPACK_IMPORTED_MODULE_1__.PhotographerFactory(await (0,_api_api__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(photographerID))\r\n  const photographerPage = new PhotographerPage(photographerFactory)\r\n  photographerPage.renderMedias()\r\n}\r\n\r\ninit()\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/pages/photographer.js?");

/***/ }),

/***/ "./scripts/utils/FilterSortBy.js":
/*!***************************************!*\
  !*** ./scripts/utils/FilterSortBy.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ FilterSortBy; }\n/* harmony export */ });\nclass FilterSortBy {\r\n  constructor () {\r\n    this._currentFilterElement = document.querySelector('.sort-filter__filter[aria-selected=true]')\r\n    this.currentFilterValue = this._currentFilterElement.getAttribute('data-value')\r\n    this._isExpanded = false\r\n    this._callbackChangeFunc = null\r\n    this._menu = document.querySelector('.sort-filter__menu')\r\n    this._filters = this._menu.querySelectorAll('.sort-filter__filter')\r\n    this._button = document.querySelector('.sort-filter__button')\r\n\r\n    // ajout des event listener pour la navigation accessible dans le dropdown\r\n    this._eventListeners = ['keydown', 'click']\r\n    this._eventListeners.forEach(event => {\r\n      this._filters.forEach(filter => filter.addEventListener(event, this.handleFiltersEvent.bind(this)))\r\n      this._button.addEventListener(event, this.handleButtonEvent.bind(this))\r\n    })\r\n  }\r\n\r\n  handleButtonEvent (e) {\r\n    switch (e.which) {\r\n      // arrow right and down\r\n      case 39:\r\n      case 40:\r\n        e.preventDefault()\r\n        if (this._currentFilterElement.nextElementSibling) {\r\n          this.switchSelectedFilter(this._currentFilterElement.nextElementSibling)\r\n        }\r\n        break\r\n        // arrow left and up\r\n      case 37:\r\n      case 38:\r\n        e.preventDefault()\r\n        if (this._currentFilterElement.previousElementSibling) {\r\n          this.switchSelectedFilter(this._currentFilterElement.previousElementSibling)\r\n        }\r\n        break\r\n        // key enter and click left\r\n      case 13:\r\n      case 1:\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        if (this._isExpanded) {\r\n          this.closeFilterMenu()\r\n          if (e.which === 13) { this._button.focus() }\r\n        } else {\r\n          this.openFilterMenu()\r\n          this.switchFilterFocus(this._currentFilterElement)\r\n        }\r\n        break\r\n      default:\r\n        return false\r\n    }\r\n  }\r\n\r\n  handleFiltersEvent (e) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    switch (e.which) {\r\n      // up arrow key\r\n      case 38:\r\n\r\n        if (e.target.previousElementSibling) {\r\n          this.switchFilterFocus(e.target.previousElementSibling)\r\n        } else {\r\n          this.switchFilterFocus(e.target.parentElement.lastElementChild)\r\n        }\r\n        break\r\n        // down arrow key\r\n      case 40:\r\n\r\n        if (e.target.nextElementSibling) {\r\n          this.switchFilterFocus(e.target.nextElementSibling)\r\n        } else {\r\n          this.switchFilterFocus(e.target.parentElement.firstElementChild)\r\n        }\r\n        break\r\n        // Enter and click left\r\n      case 13:\r\n      case 1:\r\n        if (e.target.getAttribute('aria-selected') === 'false') {\r\n          this.switchSelectedFilter(e.target)\r\n        } else {\r\n          this.closeFilterMenu()\r\n        }\r\n        if (e.which === 13) {\r\n          this._button.focus()\r\n        }\r\n        break\r\n        // Escape and Tab keys\r\n      case 9:\r\n      case 27:\r\n        this.closeFilterMenu()\r\n        this._button.focus()\r\n        break\r\n      default:\r\n        return false\r\n    }\r\n  }\r\n\r\n  switchSelectedFilter (newFilterElement) {\r\n    this._currentFilterElement.setAttribute('aria-selected', false)\r\n    newFilterElement.setAttribute('aria-selected', true)\r\n    this._currentFilterElement = newFilterElement\r\n    this._currentFilterElement.parentElement.setAttribute('aria-activedescendant', this._currentFilterElement.id)\r\n    this.currentFilterValue = newFilterElement.getAttribute('data-value')\r\n    this._button.childNodes[0].textContent = this._currentFilterElement.textContent\r\n    this.closeFilterMenu()\r\n    // Event: change pour indique que le filtre de tri a changé\r\n    this._menu.dispatchEvent(new Event('change'))\r\n  }\r\n\r\n  switchFilterFocus (target) {\r\n    target.focus()\r\n    if (target === this._filters[0]) {\r\n      this._menu.classList.add('dropdown-focus')\r\n    } else {\r\n      this._menu.classList.remove('dropdown-focus')\r\n    }\r\n  }\r\n\r\n  closeFilterMenu () {\r\n    this._menu.classList.remove('dropped-down')\r\n    this._menu.classList.remove('dropdown-focus')\r\n    this._isExpanded = false\r\n    this._button.setAttribute('aria-expanded', this._isExpanded)\r\n    document.onclick = null\r\n    this._menu.onmouseover = null\r\n  }\r\n\r\n  openFilterMenu () {\r\n    this._menu.classList.add('dropped-down')\r\n    this._isExpanded = true\r\n    this._button.setAttribute('aria-expanded', this._isExpanded)\r\n    document.onclick = (e) => {\r\n      if (!this._menu.contains(e.target)) {\r\n        this.closeFilterMenu()\r\n      }\r\n    }\r\n    this._menu.onmouseover = (e) => {\r\n      this.switchFilterFocus(e.target)\r\n    }\r\n  }\r\n\r\n  get change () {\r\n    return this._callbackChangeFunc\r\n  }\r\n\r\n  set change (callback) {\r\n    this._callbackChangeFunc = callback\r\n    this._menu.addEventListener('change', callback)\r\n  }\r\n\r\n  get value () {\r\n    return this.currentFilterValue\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/utils/FilterSortBy.js?");

/***/ }),

/***/ "./scripts/utils/Lightbox.js":
/*!***********************************!*\
  !*** ./scripts/utils/Lightbox.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Lightbox; }\n/* harmony export */ });\nclass Lightbox {\r\n  /**\r\n     *\r\n     * @param {String} selectedId\r\n     * @param {Array} medias\r\n     */\r\n  constructor (selectedId, medias) {\r\n    this._currentMediaIndex = medias.findIndex(media => media.id === selectedId)\r\n    this._selectedId = selectedId\r\n    this._medias = medias\r\n    this._eventListeners = ['keydown', 'click']\r\n    this._lightboxDOM = this.createDOM()\r\n  }\r\n\r\n  // methode permettant d'afficher la lightbox\r\n  async init () {\r\n    this.close()\r\n    document.querySelector('main').appendChild(this._lightboxDOM)\r\n    this.disableScroll()\r\n    // insertion du média sélectionné lors du click d'ouverture\r\n    await this.insertMedia(this._medias[this._currentMediaIndex].getMediaDOM())\r\n    this._lightboxDOM.classList.remove('loading')\r\n    // ajout des event listeners pour la navigation de la lightbox\r\n    this._eventListeners.forEach(event => {\r\n      this._lightboxDOM.addEventListener(event, this.handleLightboxEvent.bind(this))\r\n    })\r\n  }\r\n\r\n  handleLightboxEvent (e) {\r\n    e.preventDefault()\r\n    e.stopImmediatePropagation()\r\n    switch (e.which) {\r\n      // Escape\r\n      case 27:\r\n        this.close()\r\n        document.getElementById(this._selectedId).querySelector('a').focus()\r\n        break\r\n        // fleche de droite\r\n      case 39:\r\n        this.next()\r\n        break\r\n        // fleche de gauche\r\n      case 37:\r\n        this.prev()\r\n        break\r\n        // Tab (le focus reste en boucle dans les elements de navigation de la lightbox)\r\n      case 9: {\r\n        const interactiveEl = this._lightboxDOM.querySelectorAll('a:not(.disabled), img, video, button')\r\n        const focusEl = this._lightboxDOM.querySelector(':focus')\r\n        if (focusEl !== null) {\r\n          const index = Array.from(interactiveEl).findIndex(el => el === focusEl)\r\n          if (e.shiftKey) {\r\n            if (index === 0) {\r\n              interactiveEl[interactiveEl.length - 1].focus()\r\n            } else {\r\n              interactiveEl[index - 1].focus()\r\n            }\r\n          } else {\r\n            if (index === interactiveEl.length - 1) {\r\n              interactiveEl[0].focus()\r\n            } else {\r\n              interactiveEl[index + 1].focus()\r\n            }\r\n          }\r\n        } else {\r\n          interactiveEl[0].focus()\r\n        }\r\n        break\r\n      }\r\n      // Click gauche ou Enter\r\n      case 1:\r\n      case 13: {\r\n        const el = e.target\r\n        switch (el.className) {\r\n          // click n'importe où dans l'image -> moitié gauche = image précédente / moitié droite = image suivante\r\n          case 'lightbox__wrapper':\r\n          case 'photograph-media': {\r\n            e.offsetX < (el.offsetWidth / 2) ? this.prev() : this.next()\r\n            break\r\n          }\r\n          case 'lightbox__close' :\r\n          case 'lightbox':\r\n            this.close()\r\n            break\r\n          case 'lightbox__next' :\r\n            this.next()\r\n            break\r\n          case 'lightbox__previous':\r\n            this.prev()\r\n            break\r\n          default:\r\n            return false\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  disableScroll () {\r\n    document.body.style.overflow = 'hidden'\r\n    document.querySelector('.lightbox').style.top = window.scrollY + 'px'\r\n  }\r\n\r\n  enableScroll () {\r\n    document.body.style.overflow = 'auto'\r\n  }\r\n\r\n  createDOM () {\r\n    const lightbox = document.createElement('div')\r\n    lightbox.className = 'lightbox loading'\r\n    const wrapper = document.createElement('div')\r\n    wrapper.className = 'lightbox__wrapper'\r\n    wrapper.id = 'lightbox-dialog'\r\n    wrapper.setAttribute('aria-label', 'image closeup view')\r\n    wrapper.setAttribute('role', 'dialog')\r\n    wrapper.setAttribute('aria-modal', 'true')\r\n    const prev = document.createElement('a')\r\n    prev.href = '#'\r\n    prev.className = 'lightbox__previous'\r\n    prev.setAttribute('aria-label', 'Previous image')\r\n    const next = document.createElement('a')\r\n    next.href = '#'\r\n    next.className = 'lightbox__next'\r\n    next.setAttribute('aria-label', 'Next image')\r\n    const close = document.createElement('button')\r\n    close.className = 'lightbox__close'\r\n    close.setAttribute('aria-label', 'Close dialog')\r\n    const mediaContainer = document.createElement('div')\r\n    mediaContainer.className = 'lightbox__media-container'\r\n\r\n    wrapper.append(mediaContainer, prev, next, close)\r\n    lightbox.appendChild(wrapper)\r\n\r\n    return lightbox\r\n  }\r\n\r\n  // A chaque changement de média cette méthode est appelée\r\n  async insertMedia () {\r\n    // récupération du DOM du média à afficher\r\n    const mediaDOM = this._medias[this._currentMediaIndex].getMediaDOM()\r\n    const mediaTitle = document.createElement('p')\r\n    mediaTitle.textContent = this._medias[this._currentMediaIndex].title\r\n    mediaDOM.tabIndex = 0\r\n    // mise en mode loading de la lightbox\r\n    this._lightboxDOM.classList.add('loading')\r\n    // Pause permettant la transition css (fade)\r\n    await new Promise((resolve) => setTimeout(resolve, 200))\r\n    // remplacement du média dans le container\r\n    this._lightboxDOM.querySelector('.lightbox__media-container').replaceChildren(mediaDOM)\r\n    this._lightboxDOM.querySelector('.lightbox__media-container').appendChild(mediaTitle)\r\n    // pause permettant au média de s'afficher correctement\r\n    await new Promise((resolve) => setTimeout(resolve, 100))\r\n    // focus sur le média\r\n    mediaDOM.focus()\r\n    // gestion de l'affichage des flèche de naviagation (début et fin de la liste des médias)\r\n    if (this._currentMediaIndex === this._medias.length - 1) {\r\n      this._lightboxDOM.querySelector('.lightbox__next').classList.add('disabled')\r\n    } else if (this._currentMediaIndex < this._medias.length - 1 && this._currentMediaIndex > 0) {\r\n      this._lightboxDOM.querySelector('.lightbox__previous').classList.remove('disabled')\r\n      this._lightboxDOM.querySelector('.lightbox__next').classList.remove('disabled')\r\n    } else {\r\n      this._lightboxDOM.querySelector('.lightbox__previous').classList.add('disabled')\r\n    }\r\n    // enlever le mode loading\r\n    this._lightboxDOM.classList.remove('loading')\r\n  }\r\n\r\n  close () {\r\n    const openedlightboxes = document.querySelectorAll('.lightbox')\r\n    openedlightboxes.forEach(lightbox => {\r\n      lightbox.remove()\r\n    })\r\n    this.enableScroll()\r\n    // redirection du focus sur le media qui avait été clické lors de l'ouverture de la lightbox\r\n    document.getElementById(this._selectedId).querySelector('a').focus()\r\n  }\r\n\r\n  async next () {\r\n    if (this._currentMediaIndex < this._medias.length - 1) {\r\n      this._currentMediaIndex += 1\r\n      await this.insertMedia()\r\n    }\r\n  }\r\n\r\n  async prev () {\r\n    if (this._currentMediaIndex > 0) {\r\n      this._currentMediaIndex -= 1\r\n      await this.insertMedia()\r\n    }\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/utils/Lightbox.js?");

/***/ }),

/***/ "./scripts/utils/contactForm.js":
/*!**************************************!*\
  !*** ./scripts/utils/contactForm.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ContactForm; }\n/* harmony export */ });\nclass ContactForm {\r\n  constructor (modalId, name) {\r\n    this._modalID = modalId\r\n    this._errors = null\r\n    this._data = {}\r\n    this._sent = false\r\n\r\n    this._modalEl = document.querySelector('#' + this._modalID)\r\n    this._formEl = document.querySelector('#' + this._modalID + ' form')\r\n    this._closeButton = document.querySelector('.' + this._modalID + '__close')\r\n    this._openButton = document.querySelector('*[data-target=' + this._modalID + ']')\r\n    this._submitButton = this._modalEl.querySelector('button[type=submit]')\r\n\r\n    this._modalEl.querySelector('h2').insertAdjacentHTML('beforeend', '<br>' + name)\r\n\r\n    this._closeButton.addEventListener('click', this.close.bind(this))\r\n    this._openButton.addEventListener('click', this.open.bind(this))\r\n    this._submitButton.addEventListener('click', this.handleSubmit.bind(this))\r\n    this._modalEl.addEventListener('keydown', this.handleKeydownEvent.bind(this))\r\n  }\r\n\r\n  close (e) {\r\n    e.preventDefault()\r\n    document.querySelector('#' + this._modalID).classList.remove('open')\r\n    document.body.style.overflow = 'auto'\r\n    this.reset()\r\n    this._openButton.focus()\r\n  }\r\n\r\n  open () {\r\n    this.reset()\r\n    this._sent = false\r\n    const modal = document.querySelector('#' + this._modalID)\r\n    modal.classList.add('open')\r\n    modal.style.top = window.scrollY + 'px'\r\n    modal.querySelector('.modal').focus()\r\n    document.body.style.overflow = 'hidden'\r\n    this._formEl.style.height = 'auto'\r\n  }\r\n\r\n  reset () {\r\n    this._formEl.querySelectorAll('input:not([type=submit]), textarea').forEach(input => {\r\n      input.value = ''\r\n      this.hideError(input.parentElement)\r\n    })\r\n    this._formEl.classList.remove('sending', 'sending--success')\r\n    this._submitButton.textContent = 'Envoyer'\r\n    this._submitButton.removeAttribute('aria-describedby')\r\n    this._submitButton.setAttribute('aria-label', 'Envoyer')\r\n  }\r\n\r\n  handleKeydownEvent (e) {\r\n    const firstFocusableEl = this._modalEl.querySelector('*[role=dialog], button, a, input, textarea')\r\n    if (e.which === 9 && e.target === this._closeButton && e.shiftKey === false) {\r\n      e.preventDefault()\r\n      firstFocusableEl.focus()\r\n    }\r\n    if (e.which === 9 && e.target === firstFocusableEl && e.shiftKey === true) {\r\n      e.preventDefault()\r\n      this._closeButton.focus()\r\n    }\r\n    if (e.which === 27) {\r\n      this.close(e)\r\n    }\r\n  }\r\n\r\n  handleSubmit (e) {\r\n    e.preventDefault()\r\n\r\n    if (this._sent === true) {\r\n      this.close(e)\r\n    } else {\r\n      if (this.validateAllData()) {\r\n        this.send(this._data)\r\n      } else {\r\n        this._errors = true\r\n        this._formEl.querySelectorAll('input:not([type=submit]), textarea').forEach(el => el.addEventListener('input', (e) => {\r\n          this.validateSingleData(e.target)\r\n        }))\r\n      }\r\n    }\r\n  }\r\n\r\n  validateAllData () {\r\n    const inputs = document.querySelectorAll('#' + this._modalID + ' input, #' + this._modalID + ' textarea')\r\n    let errors = 0\r\n\r\n    inputs.forEach(input => {\r\n      this.validateSingleData(input) ? errors += 0 : errors += 1\r\n    })\r\n    if (errors === 0) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  validateSingleData (input) {\r\n    let errorMsg\r\n    switch (input.type) {\r\n      case 'text':\r\n        errorMsg = 'Veuillez entrer au minimum 2 caractères !'\r\n        if (input.value.length < 2) {\r\n          this.displayError(input.parentElement, errorMsg)\r\n          return false\r\n        } else {\r\n          this.hideError(input.parentElement)\r\n          this._data[input.name] = input.value\r\n          return true\r\n        }\r\n\r\n      case 'email':\r\n        errorMsg = 'Adresse Email invalide, merci de modifier'\r\n        if (!input.value.match(/^([\\w.-]+)@([\\w-]+)((\\.(\\w){2,6})+)$/)) {\r\n          this.displayError(input.parentElement, errorMsg)\r\n          return false\r\n        } else {\r\n          this.hideError(input.parentElement)\r\n          this._data[input.name] = input.value\r\n          return true\r\n        }\r\n\r\n      case 'textarea':\r\n        errorMsg = 'Veuillez entrer au minimum 10 caractères !'\r\n        if (input.value.length < 10) {\r\n          this.displayError(input.parentElement, errorMsg)\r\n          return false\r\n        } else {\r\n          this.hideError(input.parentElement)\r\n          this._data[input.name] = input.value\r\n          return true\r\n        }\r\n    }\r\n  }\r\n\r\n  displayError (el, errorMsg) {\r\n    el.setAttribute('aria-invalid', true)\r\n    el.setAttribute('aria-description', errorMsg)\r\n    el.querySelector('input, textarea').setAttribute('aria-invalid', true)\r\n    el.querySelector('input, textarea').setAttribute('aria-description', errorMsg)\r\n    this._submitButton.setAttribute('aria-description', 'Envoi impossible, le formulaire contient des erreurs')\r\n  }\r\n\r\n  hideError (el) {\r\n    el.removeAttribute('aria-invalid', false)\r\n    el.removeAttribute('aria-description', '')\r\n    el.querySelector('input, textarea').removeAttribute('aria-invalid', false)\r\n    el.querySelector('input, textarea').removeAttribute('aria-description', '')\r\n    this._submitButton.removeAttribute('aria-description')\r\n  }\r\n\r\n  displayLoading () {\r\n    this._formEl.classList.add('sending')\r\n    this._submitButton.textContent = 'Envoi...'\r\n    this._submitButton.setAttribute('aria-label', 'Envoi de votre message')\r\n  }\r\n\r\n  displaySuccessMsg (msg) {\r\n    this._sent = true\r\n    this.reset()\r\n    const formHeight = this._formEl.offsetHeight\r\n    const submitBtn = this._formEl.querySelector('*[type=submit]')\r\n    this._formEl.querySelector('.success-msg').innerHTML = msg\r\n    this._formEl.classList.add('sending--success')\r\n    this._formEl.style.height = formHeight + 'px'\r\n\r\n    submitBtn.textContent = 'Fermer'\r\n    submitBtn.setAttribute('aria-label', 'Close contact form')\r\n    submitBtn.setAttribute('aria-describedby', 'modal-contact-success-msg')\r\n  }\r\n\r\n  send (data) {\r\n    this.displayLoading()\r\n    setTimeout(() => {\r\n      this.displaySuccessMsg('Votre message<br>a bien été envoyé !')\r\n    }, 2000)\r\n\r\n    console.log(data)\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://front-end-fisheye/./scripts/utils/contactForm.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./scripts/pages/photographer.js");
/******/ 	
/******/ })()
;